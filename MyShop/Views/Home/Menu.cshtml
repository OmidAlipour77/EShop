@model IEnumerable<DataLayer.ProductGroups>

<li class="dropdown">
    @*<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">محصولات <span class="caret"></span></a>
        <ul class="dropdown-menu">

            @foreach (var item in Model.Where(g => g.ParentID == null))
            {
            <li>
                <a href="/Archive?selectGroup=@item.GroupID" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">@item.GroupTitle <span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="/Archive?selectGroup=@item.GroupID">@item.GroupTitle</a>
                    </li>
                    <a tabindex="-1" href="#">Hover me for more options</a>
                    <li><a tabindex="-1" href="#">Second level</a></li>

                </ul>
            </li>

            }
        </ul>*@

    <a href="#" class="dropdown-toggle" data-toggle="dropdown">محصولات <b class="caret"></b></a>
    <ul class="dropdown-menu multi-level">
        @foreach (var group in Model.Where(p => p.ParentID == null))
        {
            <li class="dropdown-submenu">
                <a href="/Archive?selectGroup=@group.GroupID">@group.GroupTitle</a>
                @if (Model.Any(p => p.ParentID == group.GroupID))
                {


                    <ul class="dropdown-menu">
                        @foreach (var subgroup in Model.Where(p => p.ParentID == group.GroupID))
                        {
                            <li><a href="/Archive?selectGroup=@subgroup.GroupID">@subgroup.GroupTitle</a></li>
                        }

                    </ul>
                }
            </li>
        }
    </ul>

</li>


